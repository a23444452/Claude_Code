# 資料集分析助手提示模板

## 用途
協助分析資料集品質、發現問題、提供改進建議，確保訓練資料的品質。

## 使用方式
將此提示模板貼到 Claude Code 中，並替換 `[...]` 中的內容為你的實際資訊。

---

## 提示模板

```
我需要分析我的 YOLO 資料集品質，請協助檢查和改進。

### 資料集資訊
- 資料集路徑: [例如: dataset/helmet_detection]
- 訓練集大小: [數量] 張圖片
- 驗證集大小: [數量] 張圖片
- 測試集大小: [數量] 張圖片（如有）
- 類別數量: [數量] 類
- 類別列表: [列出所有類別名稱]

### 當前問題（如有）
[描述資料集相關的問題，例如:]
- 訓練效果不佳
- 某些類別辨識率很低
- 標註品質不確定
- 類別分布不平衡
- 圖片品質參差不齊

### 資料集來源
[說明資料集如何收集]
- 自行拍攝/標註
- 公開資料集
- 混合來源

### 標註工具
[使用的標註工具，例如:]
- Roboflow
- LabelImg
- CVAT
- 其他

請協助我：
1. 使用 `/dataset-analyzer --dataset [路徑]` 分析資料集
2. 解讀分析報告
3. 找出資料集品質問題
4. 提供改進建議（資料收集、標註、增強等）
5. 建議最佳的資料分割比例
```

---

## 使用流程

### Step 1: 執行資料集分析
```bash
/dataset-analyzer --dataset dataset/your_dataset
```

### Step 2: 提供分析結果
將分析報告內容貼到對話中，讓 Claude 解讀並提供建議。

### Step 3: 根據建議改進
實施改進措施後，重新執行分析確認效果。

---

## 範例使用

### 範例 1: 類別不平衡問題
```
我需要分析我的 YOLO 資料集品質，請協助檢查和改進。

### 資料集資訊
- 資料集路徑: dataset/helmet_detection
- 訓練集大小: 800 張圖片
- 驗證集大小: 200 張圖片
- 類別數量: 2 類
- 類別列表: [有安全帽, 無安全帽]

### 當前問題
訓練後發現「無安全帽」類別的辨識率很低（Recall 只有 0.35），
但「有安全帽」類別表現很好（Recall 0.88）。

### Dataset Analyzer 報告
```
[貼上 /dataset-analyzer 的完整輸出]

類別分布:
- 有安全帽: 3200 個標註 (80%)
- 無安全帽: 800 個標註 (20%)
```

請協助分析問題並提供改進建議。
```

### 範例 2: 標註品質檢查
```
我需要分析我的 YOLO 資料集品質，請協助檢查和改進。

### 資料集資訊
- 資料集路徑: dataset/defect_detection
- 訓練集大小: 500 張圖片
- 驗證集大小: 100 張圖片
- 類別數量: 3 類（刮痕、裂紋、凹陷）

### 當前問題
不確定標註品質是否良好，訓練 mAP 只有 0.55

### 資料集來源
混合來源：300 張自行拍攝，200 張從網路收集

請幫我：
1. 執行資料集分析
2. 檢查標註品質
3. 找出可能的問題
4. 提供具體的改進建議
```

---

## 常見資料集問題與解決方案

### 1. 類別不平衡
**問題**: 某些類別樣本數遠少於其他類別
**解決方案**:
- 收集更多少數類別的資料
- 使用資料增強（data augmentation）
- 調整類別權重（class weights）
- 使用過採樣/欠採樣技術

### 2. 標註品質問題
**問題**: Bounding box 不準確、類別標錯
**解決方案**:
- 重新審查和修正標註
- 使用品質檢查工具
- 制定標註規範
- 多人交叉驗證

### 3. 圖片品質問題
**問題**: 模糊、過暗、過曝
**解決方案**:
- 過濾品質不佳的圖片
- 改善拍攝條件
- 使用圖片增強技術
- 確保訓練集涵蓋各種環境條件

### 4. 資料分布問題
**問題**: 訓練/驗證/測試集分布不一致
**解決方案**:
- 確保隨機分割
- 使用分層採樣（stratified sampling）
- 檢查各集合的類別分布

### 5. 物件大小問題
**問題**: 小物件難以偵測
**解決方案**:
- 增加圖片解析度
- 使用更大的 `imgsz` 參數
- 收集更多小物件的訓練樣本
- 調整 anchor sizes

---

## 資料集檢查清單

### 基本檢查
- [ ] 所有圖片都有對應的標註檔案
- [ ] 標註格式正確（YOLO format）
- [ ] 類別 ID 在有效範圍內
- [ ] Bounding box 座標在 [0, 1] 範圍內
- [ ] 沒有空白標註檔案

### 品質檢查
- [ ] 類別分布合理
- [ ] 訓練/驗證集分割合理（通常 80/20 或 70/30）
- [ ] 圖片品質良好（解析度、清晰度）
- [ ] 標註準確（bounding box 緊密包圍物件）
- [ ] 涵蓋各種場景和條件

### 進階檢查
- [ ] 物件大小分布多樣
- [ ] 包含困難樣本（遮擋、小物件）
- [ ] 背景樣本適當（如適用）
- [ ] 資料增強設定合理

---

## 提示技巧

1. **使用分析工具**: 先執行 `/dataset-analyzer`，再提供結果讓 Claude 解讀
2. **具體描述問題**: 說明訓練表現和觀察到的問題
3. **提供統計資訊**: 類別分布、圖片數量、標註品質等
4. **視覺化檢查**: 使用工具視覺化標註結果
5. **迭代改進**: 根據建議改進後，重新分析確認效果
