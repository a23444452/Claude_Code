name: ğŸ—‚ï¸ Stale Issue Manager

on:
  schedule:
    # Runs at 00:00 UTC every day
    - cron: '0 0 * * *'
  workflow_dispatch:  # Allow manual trigger

jobs:
  stale:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ—‚ï¸ Manage stale issues and PRs
      uses: actions/stale@v9
      with:
        # Issue settings
        stale-issue-message: |
          ğŸ‘‹ æ­¤ issue å·²è¶…é 30 å¤©æ²’æœ‰æ´»å‹•ã€‚

          å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨æˆ–éœ€è¦å”åŠ©ï¼Œè«‹å›è¦†æ­¤è¨Šæ¯ã€‚
          å¦å‰‡æ­¤ issue å°‡åœ¨ 7 å¤©å¾Œè‡ªå‹•é—œé–‰ã€‚

          å¦‚éœ€é‡æ–°é–‹å•Ÿï¼Œè«‹ï¼š
          1. æä¾›æ›´æ–°çš„è³‡è¨Š
          2. ç¢ºèªå•é¡Œæ˜¯å¦ä»ç„¶é‡ç¾
          3. æ¨™è¨» @ç¶­è­·è€… ä»¥ç²å¾—é—œæ³¨

          æ„Ÿè¬ä½ çš„è²¢ç»ï¼ğŸ™

        close-issue-message: |
          ğŸ”’ æ­¤ issue å› é•·æ™‚é–“ç„¡æ´»å‹•å·²è‡ªå‹•é—œé–‰ã€‚

          å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨ï¼Œæ­¡è¿ï¼š
          - é‡æ–°é–‹å•Ÿæ­¤ issue ä¸¦æä¾›æœ€æ–°è³‡è¨Š
          - å»ºç«‹æ–°çš„ issue ä¸¦åƒè€ƒæ­¤ issue

          æ„Ÿè¬ä½ çš„ç†è§£ï¼

        # PR settings
        stale-pr-message: |
          ğŸ‘‹ æ­¤ PR å·²è¶…é 14 å¤©æ²’æœ‰æ´»å‹•ã€‚

          è«‹å•æ˜¯å¦é‚„éœ€è¦ç¹¼çºŒé€²è¡Œï¼Ÿ
          å¦‚æœéœ€è¦å”åŠ©æˆ– reviewï¼Œè«‹å›è¦†æ­¤è¨Šæ¯ã€‚
          å¦å‰‡æ­¤ PR å°‡åœ¨ 7 å¤©å¾Œè‡ªå‹•é—œé–‰ã€‚

        close-pr-message: |
          ğŸ”’ æ­¤ PR å› é•·æ™‚é–“ç„¡æ´»å‹•å·²è‡ªå‹•é—œé–‰ã€‚

          å¦‚éœ€ç¹¼çºŒæ­¤å·¥ä½œï¼Œæ­¡è¿ï¼š
          - é‡æ–°é–‹å•Ÿæ­¤ PR ä¸¦æ›´æ–°å…§å®¹
          - å»ºç«‹æ–°çš„ PR ä¸¦åƒè€ƒæ­¤ PR

        # Timing settings
        days-before-stale: 30  # Issues stale after 30 days
        days-before-pr-stale: 14  # PRs stale after 14 days
        days-before-close: 7  # Close after 7 days of stale
        days-before-pr-close: 7

        # Label settings
        stale-issue-label: 'stale'
        stale-pr-label: 'stale'
        exempt-issue-labels: 'pinned,security,bug,enhancement,good first issue,help wanted'
        exempt-pr-labels: 'pinned,security,work in progress'

        # Activity settings
        remove-stale-when-updated: true
        operations-per-run: 100

        # Targeting
        only-labels: ''  # Process all issues/PRs
        exempt-milestones: true
        exempt-all-milestones: true
